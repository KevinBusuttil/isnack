{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-12-02 21:42:05.533992",
 "custom_format": 1,
 "default_print_language": "en-GB",
 "disabled": 0,
 "doc_type": "Picklist",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<style>\n  .picklist-print {\n    font-size: 10pt;\n  }\n  .picklist-print h2 {\n    margin: 0 0 4px 0;\n    font-size: 14pt;\n  }\n  .picklist-meta {\n    margin-bottom: 8px;\n  }\n  .picklist-meta td {\n    padding: 2px 4px;\n    vertical-align: top;\n  }\n  .picklist-section-title {\n    margin-top: 8px;\n    font-weight: bold;\n    text-transform: uppercase;\n    font-size: 10pt;\n  }\n  table.picklist-table {\n    width: 100%;\n    border-collapse: collapse;\n    margin-top: 4px;\n  }\n  table.picklist-table th,\n  table.picklist-table td {\n    border: 1px solid #000;\n    padding: 3px 4px;\n  }\n  table.picklist-table th {\n    text-align: left;\n    font-size: 10pt;\n  }\n  .text-right {\n    text-align: right;\n  }\n  .muted {\n    color: #666;\n    font-size: 8pt;\n  }\n  .signature-row td {\n    padding-top: 24px;\n  }\n</style>\n\n<div class=\"picklist-print\">\n\n  {# --- Header --- #}\n  <h2>Picklist</h2>\n\n  <table class=\"picklist-meta\">\n    <tr>\n      <td><b>Picklist No:</b></td>\n      <td>{{ doc.name }}</td>\n      <td><b>Date:</b></td>\n      <td>{{ frappe.utils.formatdate(doc.posting_date or doc.creation) }}</td>\n    </tr>\n    <tr>\n      <td><b>Company:</b></td>\n      <td>{{ doc.company }}</td>\n      <td><b>Printed On:</b></td>\n      <td>{{ frappe.utils.format_datetime(frappe.utils.now()) }}</td>\n    </tr>\n    <tr>\n      <td><b>From Warehouse:</b></td>\n      <td>{{ doc.from_warehouse or '' }}</td>\n      <td><b>To Warehouse:</b></td>\n      <td>{{ doc.to_warehouse or '' }}</td>\n    </tr>\n  </table>\n\n  {# --- Transfers included --- #}\n  <div class=\"picklist-section-title\">Transfers / Stock Entries</div>\n  {% if doc.transfers %}\n    <table class=\"picklist-table\">\n      <thead>\n        <tr>\n          <th style=\"width: 10%;\">#</th>\n          <th>Stock Entry</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for t in doc.transfers %}\n        <tr>\n          <td>{{ loop.index }}</td>\n          <td>{{ t.stock_entry }}</td>\n        </tr>\n        {% endfor %}\n      </tbody>\n    </table>\n  {% else %}\n    <div class=\"muted\">No transfers linked to this picklist.</div>\n  {% endif %}\n\n  {# --- Work Orders Section --- #}\n  {% if doc.transfers %}\n    {% set stock_entry_list = [t.stock_entry for t in doc.transfers if t.stock_entry] %}\n    {% if stock_entry_list %}\n      {% set work_orders = frappe.db.sql(\"\"\"\n        SELECT DISTINCT\n          wo.name as work_order,\n          wo.production_item as item_code,\n          wo.item_name\n        FROM `tabWork Order` wo\n        INNER JOIN `tabStock Entry` se ON se.work_order = wo.name\n        WHERE se.name IN %(stock_entries)s\n          AND se.docstatus = 1\n        ORDER BY wo.name\n      \"\"\", {\"stock_entries\": stock_entry_list}, as_dict=True) %}\n      \n      {% if work_orders %}\n        <div class=\"picklist-section-title\">Work Orders</div>\n        <table class=\"picklist-table\">\n          <thead>\n            <tr>\n              <th style=\"width: 10%;\">#</th>\n              <th style=\"width: 30%;\">Work Order</th>\n              <th style=\"width: 25%;\">Produced Item Code</th>\n              <th style=\"width: 35%;\">Produced Item Name</th>\n            </tr>\n          </thead>\n          <tbody>\n            {% for wo in work_orders %}\n            <tr>\n              <td>{{ loop.index }}</td>\n              <td>{{ wo.work_order }}</td>\n              <td>{{ wo.item_code }}</td>\n              <td>{{ wo.item_name or '' }}</td>\n            </tr>\n            {% endfor %}\n          </tbody>\n        </table>\n      {% endif %}\n    {% endif %}\n  {% endif %}\n\n  {# --- Items to pick --- #}\n  <div class=\"picklist-section-title\">Items to Pick</div>\n\n  {% set items = doc.items | sort(attribute='from_warehouse') %}\n\n  {% if items %}\n    <table class=\"picklist-table\">\n      <thead>\n        <tr>\n          <th style=\"width: 3%;\">#</th>\n          <th style=\"width: 12%;\">Item Code</th>\n          <th>Item Name</th>\n          <th style=\"width: 9%;\">Batch</th>\n          <th style=\"width: 12%;\">From Whse</th>\n          <th style=\"width: 12%;\">To Whse</th>\n          <th style=\"width: 8%;\">Qty</th>\n          <th style=\"width: 7%;\">UOM</th>\n          <th style=\"width: 9%;\">Picked</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for row in items %}\n        <tr>\n          <td>{{ loop.index }}</td>\n          <td>{{ row.item_code }}</td>\n          <td>{{ row.get(\"item_name\") or \"\" }}</td>\n          <td>{{ row.get(\"batch_no\") or \"\" }}</td>\n          <td>{{ row.get(\"from_warehouse\") or doc.from_warehouse or \"\" }}</td>\n          <td>{{ row.get(\"to_warehouse\") or doc.to_warehouse or \"\" }}</td>\n          <td class=\"text-right\">\n            {% if row.get(\"qty\") %}\n              {{ (\"%.3f\" % (row.qty or 0)) | trim }}\n            {% endif %}\n          </td>\n          <td>{{ row.get(\"uom\") or \"\" }}</td>\n          <td></td>\n        </tr>\n        {% endfor %}\n      </tbody>\n    </table>\n  {% else %}\n    <div class=\"muted\">No items on this picklist.</div>\n  {% endif %}\n\n  {# --- Signatures --- #}\n  <table style=\"width: 100%; margin-top: 16px;\">\n    <tr class=\"signature-row\">\n      <td style=\"width: 33%;\">Picker: ____________________________</td>\n      <td style=\"width: 33%;\">Checked By: ________________________</td>\n      <td style=\"width: 34%;\">Date: ______________________________</td>\n    </tr>\n  </table>\n\n</div>\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2026-01-21 14:48:54.266472",
 "modified_by": "Administrator",
 "module": "Isnack",
 "name": "Picklist",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}