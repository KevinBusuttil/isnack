/* ===== Operator Hub — Industrial Teal Theme (scoped to .op-teal) ===== */

/* Palette */
.op-teal{
  --bg:#eef2f5;         /* page background */
  --panel:#ffffff;      /* cards/panels */
  --panel-2:#f7f9fb;    /* subtle sections */
  --ink:#1b2733;        /* primary text */
  --muted:#6b7b8c;      /* muted text */
  --line:#e3e8ee;       /* thin borders */
  --line-strong:#cfd7df;

  --teal:#15b79e;       /* primary accent (teal) */
  --teal-d:#109487;
  --red:#ef4444;
  --amber:#f59e0b;
  --gray:#9aa6b2;

  --header:#2c313a;     /* dark header/status bar */
  --header-ink:#f3f6f9;

  --shadow:0 10px 24px rgba(17,24,39,.08);
  --shadow-sm:0 6px 16px rgba(17,24,39,.06);
}

/* Page background + type */
.op-teal{ background:var(--bg); color:var(--ink); }
.op-teal a, .op-teal .text-muted{ color:var(--muted)!important; }

/* Top status bar (bottom of the page UI) */
.op-teal #status-bar{
  background:var(--header);
  color:var(--header-ink);
  border-top:0;
  border-bottom:2px solid #22262d;
}
.op-teal #status-connection{
  padding:.2rem .6rem; border-radius:999px; font-weight:700;
  background:rgba(21,183,158,.18); border:1px solid rgba(21,183,158,.45);
}

/* =====================================
   Header toolbar (Operator | Line | Shift + actions)
   ===================================== */
.op-teal .op-toolbar{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:10px;
  padding:8px 12px;
  box-shadow:var(--shadow-sm);
}
.op-teal .op-toolbar .label{ color:var(--muted); font-weight:600; }
.op-teal .op-toolbar .vr{ width:1px; height:18px; background:var(--line); margin:0 8px; }

/* Header action buttons spacing */
.op-teal .op-toolbar .btn{ margin:0; }                 /* reset */
.op-teal .op-toolbar .btn + .btn{ margin-left:.5rem; } /* minimal gap */
@media (max-width:768px){
  .op-teal .op-toolbar .btn + .btn{ margin-left:.4rem; }
}

/* Header time: larger & spaced */
.op-teal .op-toolbar #op-time{
  margin-left:.75rem;             /* space from the buttons */
  padding:.2rem .6rem;            /* subtle pill */
  border:1px solid var(--line);
  border-radius:8px;
  background:var(--panel-2);
  color:var(--ink);

  font-weight:700;
  font-size:1.125rem;             /* ~18px */
  line-height:1.1;
  letter-spacing:.3px;

  /* keep digits aligned */
  font-variant-numeric: tabular-nums lining-nums;
  -webkit-font-feature-settings:"tnum" 1, "lnum" 1;
  -moz-font-feature-settings:"tnum" 1, "lnum" 1;
  font-feature-settings:"tnum" 1, "lnum" 1;
}
@media (max-width:768px){
  .op-teal .op-toolbar #op-time{
    margin-left:.5rem;
    font-size:1rem;
    padding:.15rem .5rem;
  }
}

/* Fallback mini header (only if JS injects #kiosk-controls) */
.op-teal #kiosk-controls{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:10px;
  padding:10px 12px;
  box-shadow:var(--shadow-sm);
}

/* =====================================
   Panels & Job Card list
   ===================================== */
.op-teal #wo-banner,
.op-teal .card{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:12px;
  box-shadow:var(--shadow);
  padding:12px 16px;
}
.op-teal .list-group-item{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:12px;
  margin-bottom:10px;
  color:var(--ink);
  transition:transform .08s ease, box-shadow .12s ease, border-color .12s ease;
}
.op-teal .list-group-item:hover{
  transform:translateY(-1px);
  border-color:var(--teal);
  box-shadow:0 10px 24px rgba(21,183,158,.12);
}

/* Chips */
.op-teal .chip{
  display:inline-flex; align-items:center; gap:.35rem;
  padding:.25rem .6rem; border-radius:999px; font-weight:600; letter-spacing:.2px;
  font-size:.72rem; text-transform:uppercase;
  background:#f0f3f6; border:1px solid var(--line);
  color:#334155;
}
.op-teal .chip-fg{ background:#e6fbf7; border-color:#bdf3ea; color:#0f766e; }
.op-teal .chip-sf{ background:#eef2ff; border-color:#dfe6ff; color:#3730a3; }
.op-teal .chip-ns{ background:#f2f4f7; color:#475569; }
.op-teal .chip-running{ background:#e6fbf7; color:#0f766e; border-color:#bdf3ea; }
.op-teal .chip-paused{ background:#fff7e6; color:#92400e; border-color:#fde68a; }
.op-teal .chip-stopped{ background:#fee2e2; color:#991b1b; border-color:#fecaca; }

/* Scan input */
.op-teal #scan{
  background:#ffffff; color:var(--ink);
  border:1px solid var(--line);
  border-radius:10px;
  padding:.6rem .8rem; font-size:1.05rem;
  transition:box-shadow .12s ease, border-color .12s ease;
}
.op-teal #scan:focus{
  outline:none; border-color:var(--teal);
  box-shadow:0 0 0 3px rgba(21,183,158,.2);
}

/* Buttons: flat industrial look */
.op-teal .btn{
  border-radius:10px;
  border:1px solid var(--line-strong)!important;
  background:#ffffff!important;
  color:#0f172a;
  transition:transform .08s ease, box-shadow .12s ease, border-color .12s ease, background .12s ease;
}
.op-teal .btn:hover{ transform:translateY(-1px); box-shadow:var(--shadow-sm); }
.op-teal .btn:active{ transform:translateY(0); }

.op-teal .btn-outline-primary,
.op-teal .btn-primary{
  background:var(--teal)!important;
  color:#053b37!important;
  border-color:var(--teal-d)!important;
}
.op-teal .btn-outline-secondary{ background:#f3f4f6!important; }
.op-teal .btn-outline-danger{
  background:#fff5f5!important; border-color:#fca5a5!important; color:#7f1d1d!important;
}

/* =====================================
   Sticky Bottom Action Bar
   ===================================== */
.op-teal .mes-operator-bottom{
  position:fixed;
  left:0; right:0; bottom:0;
  z-index:1040;
}

/* bar visuals */
.op-teal .mes-operator-bottom .action-bar{
  background:var(--panel);
  border-top:1px solid var(--line);
  box-shadow:0 -6px 18px rgba(17,24,39,.08);
  backdrop-filter:saturate(120%) blur(2px);
}

/* keep content clear of the fixed bar */
.op-teal .mes-operator{
  padding-bottom:140px; /* ~height of the action bar + status bar */
}

/* NEW: grouped bottom bar + separators */
.op-teal .op-bottom{
  gap:.75rem;                      /* space between groups/separators */
  overflow-x:auto;
  -webkit-overflow-scrolling:touch;
  padding:0 .25rem;
}
.op-teal .bar-group{
  display:flex;
  gap:.75rem;                      /* space between buttons in a group */
  flex-wrap:nowrap;
}
.op-teal .bar-sep{
  width:2px;
  min-height:96px;                 /* align with tiles */
  align-self:stretch;
  background:linear-gradient(to bottom, transparent, var(--line-strong), transparent);
  border-radius:2px;
  opacity:.9;
  margin:0 .25rem;
}

.op-teal .tile-btn{
  min-height:96px;
  min-width:180px;
  border-radius:12px;
  font-weight:700;
  letter-spacing:.2px;
}

/* optional: container gutters for the bar */
.op-teal .mes-operator-bottom .action-bar .container-fluid{
  padding-left:1rem;
  padding-right:1rem;
}

/* Status bar sits under the action buttons */
.op-teal #status-bar{
  min-height:36px;
}

/* iOS/modern safe area */
@supports(padding:max(0px)){
  .op-teal .mes-operator-bottom{
    padding-bottom: max(env(safe-area-inset-bottom), 0px);
  }
}

/* Small utilities */
.op-teal .mes-operator .badge { font-size:.8rem; }
.op-teal .divider{ height:1px; background:var(--line); margin:6px 0; }

/* Accessibility */
@media (prefers-reduced-motion: reduce){
  .op-teal .list-group-item{ transition:none!important; }
  .op-teal .btn{ transition:none!important; }
}

@media (max-width: 768px){
  .op-teal .bar-sep{ width:1px; min-height:80px; opacity:.7; }
}

/* =====================================
   Kiosk mode: hide ERPNext chrome on Operator Hub only
   ===================================== */
body[data-route="operator-hub"].op-kiosk .navbar,
body[data-route="operator-hub"].op-kiosk .navbar-container,
body[data-route="operator-hub"].op-kiosk .desk-sidebar,
body[data-route="operator-hub"].op-kiosk .page-head,
body[data-route="operator-hub"].op-kiosk .page-head-content,
body[data-route="operator-hub"].op-kiosk .breadcrumb-container,
body[data-route="operator-hub"].op-kiosk .layout-side-section,
body[data-route="operator-hub"].op-kiosk .page-actions{
  display:none!important;
}
body[data-route="operator-hub"].op-kiosk .page-container,
body[data-route="operator-hub"].op-kiosk .page-body,
body[data-route="operator-hub"].op-kiosk .layout-main-section,
body[data-route="operator-hub"].op-kiosk .page-content-wrapper{
  margin:0!important; padding:0!important; max-width:none!important;
}
body[data-route="operator-hub"].op-kiosk .container{
  max-width:none!important; width:100%!important;
}
body[data-route="operator-hub"].op-kiosk #kiosk-exit{
  position:fixed; top:10px; right:12px; z-index:3000; opacity:.6;
}
body[data-route="operator-hub"].op-kiosk #kiosk-exit:hover{ opacity:1; }

/* =====================================
   Optional hardening overrides (take precedence)
   ===================================== */

/* 1) Force the footer to stick even if other CSS interferes */
.op-teal .mes-operator-bottom{ position: fixed !important; }

/* 2) Give bottom buttons a touch more air (legacy row support) */
.op-teal .mes-operator-bottom .action-bar .d-flex{ gap: 1rem !important; }

/* 3) Make the header time more prominent */
.op-teal .op-toolbar #op-time{
  font-size: 1.25rem !important;
  padding: .25rem .7rem !important;
}

/* --- Header spacing: Operator | Line | Shift --- */
.op-teal .op-toolbar .label { 
  margin-right: .45rem;                 /* space after "Operator:" / "Line:" / "Shift:" */
}
/* space between the value (— / name) and its Set button */
.op-teal .op-toolbar .label + span { margin-right: .9rem; }
/* give the Set buttons a little breathing room */
.op-teal .op-toolbar #kiosk-choose-emp,
.op-teal .op-toolbar #kiosk-choose-line { margin-left: .55rem; }
/* widen the vertical separators */
.op-teal .op-toolbar .vr { margin: 0 14px; }

@media (max-width: 992px){
  .op-teal .op-toolbar .label + span { margin-right: .6rem; }
  .op-teal .op-toolbar .vr { margin: 0 10px; }
}
